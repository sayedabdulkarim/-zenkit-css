// ========================================
// ZenKit - Tables
// ========================================

@use 'sass:map';
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// ----------------------------------------
// Base Table
// ----------------------------------------
.table {
  --table-color: var(--text);
  --table-bg: transparent;
  --table-border-color: var(--border);
  --table-accent-bg: transparent;
  --table-striped-color: var(--text);
  --table-striped-bg: rgba(0, 0, 0, 0.02);
  --table-hover-color: var(--text);
  --table-hover-bg: rgba(0, 0, 0, 0.04);

  width: 100%;
  margin-bottom: 1rem;
  color: var(--table-color);
  vertical-align: top;
  border-color: var(--table-border-color);

  > :not(caption) > * > * {
    padding: 0.75rem;
    background-color: var(--table-bg);
    border-bottom-width: $border-width;
    box-shadow: inset 0 0 0 9999px var(--table-accent-bg);
  }

  > tbody {
    vertical-align: inherit;
  }

  > thead {
    vertical-align: bottom;
  }
}

// ----------------------------------------
// Table Head Styles
// ----------------------------------------
.table > thead {
  border-bottom: 2px solid var(--border-dark);
}

.table-dark > thead {
  border-bottom-color: var(--gray-600);
}

// ----------------------------------------
// Striped Rows
// ----------------------------------------
.table-striped > tbody > tr:nth-of-type(odd) > * {
  --table-accent-bg: var(--table-striped-bg);
  color: var(--table-striped-color);
}

.table-striped-columns > :not(caption) > tr > :nth-child(even) {
  --table-accent-bg: var(--table-striped-bg);
  color: var(--table-striped-color);
}

// ----------------------------------------
// Hover Effect
// ----------------------------------------
.table-hover > tbody > tr:hover > * {
  --table-accent-bg: var(--table-hover-bg);
  color: var(--table-hover-color);
}

// ----------------------------------------
// Active State
// ----------------------------------------
.table-active {
  --table-accent-bg: var(--table-hover-bg);
  color: var(--table-hover-color);
}

// ----------------------------------------
// Bordered Table
// ----------------------------------------
.table-bordered > :not(caption) > * {
  border-width: $border-width 0;

  > * {
    border-width: 0 $border-width;
  }
}

// ----------------------------------------
// Borderless Table
// ----------------------------------------
.table-borderless > :not(caption) > * > * {
  border-bottom-width: 0;
}

.table-borderless > :not(:first-child) {
  border-top-width: 0;
}

// ----------------------------------------
// Table Sizes
// ----------------------------------------
.table-sm > :not(caption) > * > * {
  padding: 0.375rem;
}

.table-lg > :not(caption) > * > * {
  padding: 1rem;
}

// ----------------------------------------
// Table Colors
// ----------------------------------------
.table-primary {
  --table-color: var(--primary-900);
  --table-bg: var(--primary-50);
  --table-border-color: var(--primary-200);
  --table-striped-bg: var(--primary-100);
  --table-hover-bg: var(--primary-100);
}

.table-secondary {
  --table-color: var(--gray-900);
  --table-bg: var(--gray-100);
  --table-border-color: var(--gray-200);
  --table-striped-bg: var(--gray-200);
  --table-hover-bg: var(--gray-200);
}

.table-success {
  --table-color: #{$success-dark};
  --table-bg: var(--success-light);
  --table-border-color: #{$success};
  --table-striped-bg: #{rgba($success, 0.1)};
  --table-hover-bg: #{rgba($success, 0.15)};
}

.table-danger {
  --table-color: #{$danger-dark};
  --table-bg: var(--danger-light);
  --table-border-color: #{$danger};
  --table-striped-bg: #{rgba($danger, 0.1)};
  --table-hover-bg: #{rgba($danger, 0.15)};
}

.table-warning {
  --table-color: #{$warning-dark};
  --table-bg: var(--warning-light);
  --table-border-color: #{$warning};
  --table-striped-bg: #{rgba($warning, 0.1)};
  --table-hover-bg: #{rgba($warning, 0.15)};
}

.table-info {
  --table-color: #{$info-dark};
  --table-bg: var(--info-light);
  --table-border-color: #{$info};
  --table-striped-bg: #{rgba($info, 0.1)};
  --table-hover-bg: #{rgba($info, 0.15)};
}

.table-light {
  --table-color: var(--gray-900);
  --table-bg: var(--gray-50);
  --table-border-color: var(--gray-200);
}

.table-dark {
  --table-color: var(--white);
  --table-bg: var(--gray-800);
  --table-border-color: var(--gray-700);
  --table-striped-color: var(--white);
  --table-striped-bg: #{rgba($white, 0.05)};
  --table-hover-color: var(--white);
  --table-hover-bg: #{rgba($white, 0.075)};
}

// ----------------------------------------
// Responsive Tables
// ----------------------------------------
.table-responsive {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

@each $breakpoint in map.keys($breakpoints) {
  $infix: "";
  @if $breakpoint != xs {
    $infix: "-#{$breakpoint}";
  }

  @include breakpoint-down($breakpoint) {
    .table-responsive#{$infix} {
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }
  }
}

// ----------------------------------------
// Caption
// ----------------------------------------
.table caption {
  padding-top: 0.75rem;
  padding-bottom: 0.75rem;
  color: var(--text-muted);
  text-align: left;
}

.caption-top {
  caption-side: top;
}

// ----------------------------------------
// Table Group Dividers
// ----------------------------------------
.table-group-divider {
  border-top: 2px solid var(--border-dark);
}

// ----------------------------------------
// Table Layout
// ----------------------------------------
.table-fixed {
  table-layout: fixed;
}

.table-auto {
  table-layout: auto;
}
